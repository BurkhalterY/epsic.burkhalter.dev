import{_ as b,o as r,c as p,a as s,D as u,E as a,F as S,b as c,t as _,z as d,A as R}from"./index-01455bc6.js";const P={data(){return{nbIPstr:"",nbSRstr:"",nbIP:0,nbSR:0,n_IP:0,n_SR:0,n_R:0,classe:"",NET_ID:0,MASK:0,SR:new Array,step1o_ip:"",step1o_sr:"",step2o_ip:"",step2o_sr:"",step3o_classe:"",step3o_net_id:"",step3bo:"",step4o:"",step5o:"",step6o:new Array}},methods:{calculate(){this.nbIP=parseInt(this.nbIPstr),this.nbSR=parseInt(this.nbSRstr),this.nbIP>0&&this.nbSR>0?(this.step1(),this.step2(),this.step3(),this.step3b(),this.step4(),this.step5(),this.step6()):(this.step1o_ip="",this.step1o_sr="",this.step2o_ip="",this.step2o_sr="",this.step3o_classe="",this.step3o_net_id="",this.step3bo="",this.step4o="",this.step5o="",this.step6o=[])},step1(){this.step1o_ip=this.nbIP.toString(),this.nbIP++,this.step1o_ip+=" + 1 (passerelle) = "+this.nbIP,this.step1o_ip+="<br>"+this.nbIP,this.nbIP+=Math.ceil(this.nbIP/10),this.step1o_ip+=" + 10% = "+this.nbIP,this.step1o_sr=this.nbSR.toString(),this.nbSR+=Math.ceil(this.nbSR/10),this.step1o_sr+=" + 10% = "+this.nbSR},step2(){this.n_IP=this.ln(this.nbIP+2)/this.ln(2),this.step2o_ip="n = ln("+this.nbIP+" + 2) / ln(2) = ~"+this.n_IP.toFixed(4),this.n_IP=Math.ceil(this.n_IP),this.step2o_ip+=" → "+this.n_IP,this.n_SR=this.ln(this.nbSR+2)/this.ln(2),this.step2o_sr="n = ln("+this.nbSR+" + 2) / ln(2) = ~"+this.n_SR.toFixed(4),this.n_SR=Math.ceil(this.n_SR),this.step2o_sr+=" → "+this.n_SR},step3(){this.n_IP+this.n_SR<=8?(this.classe="C",this.NET_ID=this.ipToNumber([192,168,1,0]),this.n_R=24,this.step3o_classe=this.n_IP+" + "+this.n_SR+" ≤ 8 → Classe C"):this.n_IP+this.n_SR<=16?(this.classe="B",this.NET_ID=this.ipToNumber([172,16,0,0]),this.n_R=16,this.step3o_classe=this.n_IP+" + "+this.n_SR+" ≤ 16 → Classe B"):this.n_IP+this.n_SR<=24&&(this.classe="A",this.NET_ID=this.ipToNumber([10,0,0,0]),this.n_R=8,this.step3o_classe=this.n_IP+" + "+this.n_SR+" ≤ 24 → Classe A"),this.step3o_net_id="NET_ID : "+this.showIP(this.numberToIp(this.NET_ID))},step3b(){let e=this.n_IP,t=this.n_SR;if(this.n_IP+this.n_SR<=8?this.n_IP+=8-this.n_IP-this.n_SR:this.n_IP+this.n_SR<=16?this.n_IP<=8&&this.n_SR<=8?(this.n_IP=8,this.n_SR=8):this.n_IP+=16-this.n_IP-this.n_SR:this.n_IP+this.n_SR<=24&&(this.n_IP<=8&&this.n_SR<=16?(this.n_IP=8,this.n_SR=16):this.n_IP<=16&&this.n_SR<=8?(this.n_IP=16,this.n_SR=18):this.n_IP+=24-this.n_IP-this.n_SR),this.n_IP!=e||this.n_SR!=t){let i=e+" → "+this.n_IP,o=t+" → "+this.n_SR;this.step3bo=i+"<br>"+o}else this.step3bo="";this.nbIP=Math.pow(2,this.n_IP)-2,this.nbSR=Math.pow(2,this.n_SR)-2},step4(){this.MASK=this.n_R+this.n_SR,this.step4o="MASK : "+this.showIP(this.showMask(this.MASK))},step5(){this.step5o="";let e=Math.pow(2,this.n_IP);this.SR=new Array(this.nbSR+1);for(let t=0;t<this.SR.length;t++)t==0?this.SR[t]=this.NET_ID+e:this.SR[t]=this.SR[t-1]+e,t<this.SR.length-1&&(t<9||t==this.SR.length-2)&&(t>0&&(this.step5o+="<br>",t>9&&t==this.SR.length-2&&(this.step5o+="...<br>")),this.step5o+=this.showIP(this.numberToIp(this.SR[t])))},step6(){this.step6o=[];for(let e=0;e<this.SR.length-1;e++)this.step6o.push([this.showIP(this.numberToIp(this.SR[e])),this.showIP(this.numberToIp(this.SR[e]+1)),this.showIP(this.numberToIp(this.SR[e+1]-2)),this.showIP(this.numberToIp(this.SR[e+1]-1))])},ln(e){return Math.log(e)/Math.log(Math.E)},showIP(e){let t="";for(let i=0;i<e.length;i++)i>0&&(t+="."),t+=e[i];return t},showMask(e){let t=[0,0,0,0];for(let i=0;i<e;i++)t[Math.ceil((i+1)/8)-1]+=Math.pow(2,7-i%8);return t},ipToNumber(e){let t=0;for(let i=0;i<e.length;i++)t+=e[i]*Math.pow(256,3-i);return t},numberToIp(e){let t=new Array(4);for(let i=0;i<t.length;i++){let o=e%256;e=Math.floor(e/256),t[3-i]=o}return t}}},l=e=>(d("data-v-6a1aaed7"),e=e(),R(),e),M=l(()=>s("td",null,[s("label",{for:"ip"},"Nombre max de machines (sans le routeur) :")],-1)),f=l(()=>s("td",null,[s("label",{for:"sr"},"Nombre max de sous-réseaux :")],-1)),T=l(()=>s("td",null,null,-1)),m={class:"text-center"},w=l(()=>s("h2",null,"1) Déterminer les besoins (inclure les réserves)",-1)),g=["innerHTML"],H=["innerHTML"],L=l(()=>s("h2",null," 2) Calculer et réserver le nombre de bits nécessaires (Host_ID et Subnet_ID) ",-1)),D=["innerHTML"],y=["innerHTML"],N=l(()=>s("h2",null,"3) Définir la classe et le Net_ID",-1)),x=["innerHTML"],A=["innerHTML"],C=["innerHTML"],k=l(()=>s("h2",null,"4) Déterminer le masque (réseau et sous-réseau)",-1)),v=["innerHTML"],E=l(()=>s("h2",null,"5) Calculer les adresses de chaque sous-réseau",-1)),B=["innerHTML"],F=l(()=>s("h2",null,"6) Réaliser l'annuaire",-1)),K={class:"!w-full !table"},V=l(()=>s("tr",{class:"text-left"},[s("th",null,"Adresse du sous-réseau"),s("th",null,"Première adresse IP"),s("th",null,"Dernière adresse IP"),s("th",null,"Adresse de diffusion")],-1));function q(e,t,i,o,n,I){return r(),p("div",null,[s("table",null,[s("tr",null,[M,s("td",null,[u(s("input",{type:"number",class:"border border-gray-500 rounded-sm","onUpdate:modelValue":t[0]||(t[0]=h=>n.nbIPstr=h)},null,512),[[a,n.nbIPstr]])])]),s("tr",null,[f,s("td",null,[u(s("input",{type:"number",class:"border border-gray-500 rounded-sm","onUpdate:modelValue":t[1]||(t[1]=h=>n.nbSRstr=h)},null,512),[[a,n.nbSRstr]])])]),s("tr",null,[T,s("td",m,[s("button",{type:"button",class:"px-2 py-1 bg-gray-200 rounded",onClick:t[2]||(t[2]=h=>I.calculate())}," Calculer ")])])]),w,s("p",{innerHTML:n.step1o_ip},null,8,g),s("p",{innerHTML:n.step1o_sr},null,8,H),L,s("p",{innerHTML:n.step2o_ip},null,8,D),s("p",{innerHTML:n.step2o_sr},null,8,y),N,s("p",{innerHTML:n.step3o_classe},null,8,x),s("p",{innerHTML:n.step3o_net_id},null,8,A),s("p",{innerHTML:n.step3bo},null,8,C),k,s("p",{innerHTML:n.step4o},null,8,v),E,s("p",{innerHTML:n.step5o},null,8,B),F,s("table",K,[V,(r(!0),p(S,null,c(n.step6o,h=>(r(),p("tr",{key:h},[s("td",null,_(h[0]),1),s("td",null,_(h[1]),1),s("td",null,_(h[2]),1),s("td",null,_(h[3]),1)]))),128))])])}const z=b(P,[["render",q],["__scopeId","data-v-6a1aaed7"]]);export{z as default};
